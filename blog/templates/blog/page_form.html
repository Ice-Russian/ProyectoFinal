{% extends 'blog/base.html' %}

{% block titulo %}Crear Blog{% endblock %}

{% block main %}
<div class="container mt-4">
    <div class="row justify-content-center">
        <div class="col-md-8">
            <h2 class="text-center mb-4">Crear un Nuevo Blog</h2>
            <div class="card">
                <div class="card-header">
                    <h4 class="mb-0">Formulario de Creaci√≥n</h4>
                </div>
                <div class="card-body">
                    <form method="post" enctype="multipart/form-data">
                        {% csrf_token %}
                        
                        <div class="form-group mb-3">
                            {{ form.title.label_tag }}
                            {{ form.title }}
                        </div>
                        
                        <div class="form-group mb-3">
                            {{ form.subtitle.label_tag }}
                            {{ form.subtitle }}
                        </div>
                        
                        <div class="form-group mb-3">
                            {{ form.body.label_tag }}
                            {{ form.body }}
                            <small id="body-warning" class="form-text text-danger d-none">El contenido es demasiado largo, no debe exceder los 4000 caracteres.</small>
                        </div>
                        
                        <div class="form-group mb-3">
                            {{ form.author.label_tag }}
                            {{ form.author }}
                        </div>
                        
                        <div class="form-group mb-3">
                            {{ form.date_created.label_tag }}
                            {{ form.date_created }}
                        </div>
                        
                        <div class="form-group mb-3">
                            {{ form.image.label_tag }}
                            {{ form.image }}
                            <small class="form-text text-muted">Selecciona una imagen para el blog.</small>
                        </div>
                        
                        <div class="text-center">
                            <button type="submit" class="btn btn-primary">Crear!</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
function checkLength(textarea) {
    const maxLength = 4000;
    const warning = document.getElementById('body-warning');
    if (textarea.value.length > maxLength) {
        warning.classList.remove('d-none');
        textarea.classList.add('is-invalid');
    } else {
        warning.classList.add('d-none');
        textarea.classList.remove('is-invalid');
    }
}
</script>

<div class="container mt-5">
    <div class="container mt-5">
        <br>
    </div>
</div>
{% endblock %}
